<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        .show {
            width: 30px;
            height: 30px;
            border: 1px solid skyblue;
            position: absolute;
            text-align: center;
            display: none;

        }
    </style>
</head>
<body>
<span>数值</span><input type="range" min="0" max="100" class="ra">
<div class="show"></div>
<script>
    //1.获取页面元素
    var ra = document.querySelector('.ra');
    var show = document.querySelector('.show');
    //设置开关当鼠标按下时才响应移动
    var flag = false;
    //2.添加事件
    //2.1添加鼠标按下事件
    ra.onmousedown = function () {
        //1.div显示
        show.style.display = 'block';
        //2.div内有range的值
        show.innerHTML = ra.value;
        var tempLeft = event.clientX;
        show.style.left = tempLeft - 15 + 'px';
        flag = true;
    };
    //2.2添加鼠标移动事件
    ra.onmousemove = function () {
        if (flag) {//flag == true
            console.log('aaaaaaaaaaaa');
            //0.获取鼠标X轴坐标即可
            var tempLeft = event.clientX;
            // 1.范围校验
            if (tempLeft < 43) {
                tempLeft = 43;
            }
            if (tempLeft > 172) {
                tempLeft = 172;
            }
            // 2.div内有range变化的值
            show.innerHTML = ra.value;
            show.style.left = tempLeft - 15 + 'px';
        }
    };
    //2.3添加鼠标抬起事件
    ra.onmouseup = function () {
        //1.div消失
        show.style.display = 'none';
        flag = false;
    };
</script>
</body>
</html>